@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(210, 10%, 8%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(210, 10%, 8%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(210, 10%, 8%);
  --primary: #d97706;
  --primary-foreground: #ffffff;
  --secondary: #FAF8F4;
  --secondary-foreground: #B8956A;
  --muted: hsl(39, 20%, 85%);
  --muted-foreground: hsl(30, 20%, 45%);
  --accent: #FAF8F4;
  --accent-foreground: #B8956A;
  --destructive: hsl(0, 85%, 58%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --border: hsl(30, 40%, 25%);
  --input: #FAF8F4;
  --ring: #B8956A;
  --chart-1: hsl(20, 100%, 60%);
  --chart-2: hsl(123, 45%, 30%);
  --chart-3: hsl(39, 35%, 65%);
  --chart-4: hsl(30, 28%, 35%);
  --chart-5: hsl(210, 10%, 8%);
  --sidebar: hsl(45, 35%, 97%);
  --sidebar-foreground: hsl(210, 10%, 8%);
  --sidebar-primary: hsl(30, 32%, 39%);
  --sidebar-primary-foreground: hsl(45, 42%, 96%);
  --sidebar-accent: hsl(45, 42%, 96%);
  --sidebar-accent-foreground: hsl(30, 32%, 39%);
  --sidebar-border: hsl(30, 40%, 25%);
  --sidebar-ring: hsl(30, 32%, 39%);
  --font-sans: 'Work Sans', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --font-serif: 'Georgia', 'Times New Roman', serif;
  --font-mono: 'JetBrains Mono', 'SF Mono', 'Monaco', 'Inconsolata', monospace;
  --radius: 0.5rem;
  
  /* Brand specific colors - Cardboard Theme - Optimized for crisp rendering */
  --brand-cardboard: #B8956A;
  --brand-cream: #FAF8F4;
  --brand-cardboard-dark: hsl(30, 40%, 25%);
  --brand-barcode-black: hsl(210, 7%, 10%);
  --brand-tape-brown: hsl(30, 32%, 39%);
  --brand-accent-orange: #d97706;
  --brand-accent-green: hsl(123, 43%, 32%);
  
  /* Mapped brand variables */
  --brand-primary: hsl(30, 32%, 39%);
  --brand-primary-dark: hsl(30, 40%, 25%);
  --brand-accent: hsl(45, 42%, 96%);
  --brand-bg: hsl(45, 42%, 96%);
  --brand-surface: hsl(0, 0%, 100%);
  --brand-text: hsl(210, 7%, 10%);
  --brand-muted: hsl(39, 39%, 70%);
  --brand-border: hsl(30, 40%, 25%);
  
  /* Enhanced image rendering */
  --image-rendering: optimizeQuality;
  --logo-filter: contrast(1.1) saturate(1.05) brightness(1.02);
  --bg-image-filter: contrast(1.08) saturate(1.1) brightness(0.95);
}

.dark {
  --background: hsl(30, 32%, 15%);
  --foreground: hsl(45, 42%, 96%);
  --card: hsl(30, 32%, 18%);
  --card-foreground: hsl(45, 42%, 96%);
  --popover: hsl(30, 32%, 18%);
  --popover-foreground: hsl(45, 42%, 96%);
  --primary: hsl(45, 42%, 96%);
  --primary-foreground: hsl(30, 32%, 15%);
  --secondary: hsl(30, 32%, 25%);
  --secondary-foreground: hsl(45, 42%, 96%);
  --muted: hsl(30, 20%, 25%);
  --muted-foreground: hsl(45, 20%, 70%);
  --accent: hsl(30, 32%, 25%);
  --accent-foreground: hsl(45, 42%, 96%);
  --border: hsl(30, 40%, 35%);
  --input: hsl(30, 32%, 18%);
  --ring: hsl(45, 42%, 96%);
  --primary: #d97706;
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(30, 32%, 39%);
  --secondary-foreground: hsl(45, 42%, 96%);
  --muted: hsl(39, 39%, 50%);
  --muted-foreground: hsl(39, 39%, 50%);
  --accent: hsl(30, 32%, 18%);
  --accent-foreground: hsl(45, 42%, 96%);
  --destructive: hsl(0, 84%, 60%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --border: hsl(30, 32%, 30%);
  --input: hsl(30, 32%, 18%);
  --ring: hsl(20, 100%, 63%);
}

@layer base {
  * {
    @apply border-border;
  }

  html, body {
    @apply font-sans antialiased bg-background text-foreground;
    background: var(--brand-bg);
    color: var(--brand-text);
    font-family: var(--font-sans);
    min-height: 100vh;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11', 'liga' 1, 'kern' 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Enhanced text clarity */
    image-rendering: optimizeQuality;
    -webkit-tap-highlight-color: transparent;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: 1.15;
    text-rendering: optimizeLegibility;
  }

  h1 {
    font-size: 1.5rem; /* 24px */
    line-height: 1.2;
  }

  h2 {
    font-size: 1.25rem; /* 20px */
    line-height: 1.25;
  }

  h3 {
    font-size: 1.125rem; /* 18px */
    line-height: 1.3;
  }

  p {
    line-height: 1.5;
    font-size: 0.875rem; /* 14px */
  }

  /* Enhanced mobile typography */
  @media (max-width: 768px) {
    h1 {
      font-size: 1.375rem; /* 22px */
    }
    
    h2 {
      font-size: 1.125rem; /* 18px */
    }
    
    h3 {
      font-size: 1rem; /* 16px */
    }
    
    p {
      font-size: 0.875rem; /* 14px */
    }
  }
}

@layer components {
  .brand-card {
    @apply rounded-xl p-6 backdrop-blur-sm;
    background: var(--brand-surface);
    border: 1px solid var(--brand-border);
    box-shadow: 
      0 1px 3px 0 rgba(0, 0, 0, 0.1),
      0 1px 2px -1px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(210, 180, 140, 0.05);
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .brand-card:hover {
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -2px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(210, 180, 140, 0.1);
    transform: translateY(-1px);
  }

  .brand-button-contained {
    @apply px-8 py-4 rounded-xl font-semibold transition-all duration-300 ease-out;
    background: linear-gradient(135deg, var(--brand-accent-orange) 0%, hsl(20, 100%, 58%) 100%);
    color: white;
    border: none;
    box-shadow: 
      0 2px 4px 0 rgba(255, 140, 66, 0.2),
      0 0 0 1px rgba(255, 140, 66, 0.1);
    letter-spacing: -0.025em;
  }

  .brand-button-contained:hover {
    background: linear-gradient(135deg, var(--brand-primary-dark) 0%, hsl(20, 100%, 48%) 100%);
    transform: translateY(-2px);
    box-shadow: 
      0 8px 25px -5px rgba(255, 140, 66, 0.4),
      0 8px 10px -6px rgba(255, 140, 66, 0.1);
  }

  .brand-button-contained:active {
    transform: translateY(0px);
    box-shadow: 
      0 2px 4px 0 rgba(255, 140, 66, 0.2),
      0 0 0 1px rgba(255, 140, 66, 0.1);
  }

  .brand-button-contained:disabled {
    @apply opacity-60 cursor-not-allowed;
    transform: none;
    background: var(--brand-muted);
    box-shadow: none;
  }

  .brand-button-outlined {
    @apply px-8 py-4 rounded-xl font-semibold border-2 transition-all duration-300 ease-out;
    background: var(--brand-surface);
    color: var(--brand-text);
    border-color: var(--brand-border);
    box-shadow: 
      0 1px 3px 0 rgba(0, 0, 0, 0.1),
      0 1px 2px -1px rgba(0, 0, 0, 0.1);
    letter-spacing: -0.025em;
  }

  .brand-button-outlined:hover {
    background: var(--brand-accent);
    color: var(--brand-text);
    border-color: var(--brand-muted);
    transform: translateY(-1px);
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -2px rgba(0, 0, 0, 0.1);
  }

  .brand-chip {
    @apply px-4 py-2 rounded-lg text-sm font-medium border transition-all duration-200;
    background: rgba(210, 180, 140, 0.08);
    color: var(--brand-muted);
    border-color: var(--brand-border);
    backdrop-filter: blur(10px);
  }

  .brand-chip:hover {
    background: rgba(210, 180, 140, 0.15);
    border-color: var(--brand-accent);
  }

  .brand-chip-selected {
    background: linear-gradient(135deg, var(--brand-accent-orange) 0%, hsl(20, 100%, 58%) 100%);
    color: white;
    border-color: var(--brand-accent-orange);
    box-shadow: 0 2px 4px 0 rgba(255, 140, 66, 0.2);
  }

  .brand-input {
    @apply rounded-xl border-2 px-4 py-3 transition-all duration-200;
    background: var(--brand-surface);
    border-color: var(--border);
    color: var(--brand-text);
    box-shadow: 
      0 1px 2px 0 rgba(0, 0, 0, 0.05),
      inset 0 1px 3px 0 rgba(0, 0, 0, 0.1);
  }

  .brand-input:focus {
    border-color: var(--brand-accent-orange);
    box-shadow: 
      0 0 0 3px rgba(255, 140, 66, 0.1),
      0 1px 2px 0 rgba(0, 0, 0, 0.05),
      inset 0 1px 3px 0 rgba(0, 0, 0, 0.1);
    outline: none;
  }

  .brand-input::placeholder {
    color: var(--muted-foreground);
    opacity: 0.7;
  }

  /* Enhanced glass morphism effect */
  .glass-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 
      0 8px 32px 0 rgba(31, 38, 135, 0.37),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
  }

  /* Crisp text styles */
  .text-crisp {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'kern' 1, 'liga' 1;
    letter-spacing: -0.01em;
  }

  /* Compact mobile spacing utilities */
  .mobile-compact {
    @apply space-y-2 sm:space-y-3;
  }

  .mobile-compact-tight {
    @apply space-y-1.5 sm:space-y-2;
  }

  /* Mobile-optimized button styles */
  .btn-mobile {
    @apply h-11 px-4 py-2 text-sm font-medium rounded-lg;
  }

  .btn-mobile-sm {
    @apply h-10 px-3 py-1.5 text-xs font-medium rounded-md;
  }

  /* Enhanced shadows */
  .shadow-crisp {
    box-shadow: 
      0 1px 3px 0 rgba(0, 0, 0, 0.1),
      0 1px 2px -1px rgba(0, 0, 0, 0.1);
  }

  .shadow-crisp-lg {
    box-shadow: 
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -4px rgba(0, 0, 0, 0.1);
  }

  .shadow-crisp-xl {
    box-shadow: 
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 8px 10px -6px rgba(0, 0, 0, 0.1);
  }
  
  /* Enhanced image quality utilities - Optimized for better rendering */
  .img-crisp {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: optimizeQuality;
    filter: contrast(1.05) saturate(1.02) brightness(1.01);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-filter: contrast(1.05) saturate(1.02) brightness(1.01);
  }
  
  .bg-img-enhanced {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: optimizeQuality;
    filter: contrast(1.03) saturate(1.05) brightness(1.0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    -webkit-filter: contrast(1.03) saturate(1.05) brightness(1.0);
    will-change: transform;
  }
  
  .logo-enhanced {
    filter: contrast(1.25) saturate(1.2) brightness(1.06) drop-shadow(0 4px 8px rgba(0,0,0,0.15));
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    backface-visibility: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-filter: contrast(1.25) saturate(1.2) brightness(1.06) drop-shadow(0 4px 8px rgba(0,0,0,0.15));
  }
  
  .logo-hero-enhanced {
    filter: 
      contrast(1.45) 
      saturate(1.4) 
      brightness(0.9) 
      hue-rotate(2deg)
      drop-shadow(0 10px 20px rgba(0,0,0,0.3))
      drop-shadow(0 6px 12px rgba(139,69,19,0.5))
      drop-shadow(0 2px 4px rgba(0,0,0,0.4));
    image-rendering: crisp-edges;
    -webkit-image-rendering: -webkit-optimize-contrast;
    backface-visibility: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0) scale(1.02);
    /* Aggressive white removal */
    mix-blend-mode: darken;
    clip-path: inset(2% 2% 2% 2%);
    object-fit: contain;
    object-position: center;
    /* Cross-browser support */
    -webkit-filter: 
      contrast(1.45) 
      saturate(1.4) 
      brightness(0.9) 
      hue-rotate(2deg)
      drop-shadow(0 10px 20px rgba(0,0,0,0.3))
      drop-shadow(0 6px 12px rgba(139,69,19,0.5))
      drop-shadow(0 2px 4px rgba(0,0,0,0.4));
  }
  
  /* Professional logo container with enhanced visual effects */
  .logo-container-enhanced {
    position: relative;
    display: inline-block;
  }
  
  .logo-container-enhanced::before {
    content: '';
    position: absolute;
    inset: -10%;
    background: radial-gradient(ellipse at center, 
      rgba(251,191,36,0.15) 0%, 
      rgba(217,119,6,0.1) 30%, 
      transparent 70%);
    border-radius: 50%;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .logo-container-enhanced:hover::before {
    opacity: 1;
  }
  
  /* Professional text enhancement */
  .text-enhanced {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
    letter-spacing: -0.01em;
  }
  
  .bg-pattern-enhanced {
    background-image: 
      radial-gradient(circle at 25% 25%, rgba(251, 191, 36, 0.04) 0%, transparent 50%),
      radial-gradient(circle at 75% 75%, rgba(180, 83, 9, 0.03) 0%, transparent 50%),
      linear-gradient(135deg, rgba(251, 191, 36, 0.02) 0%, rgba(180, 83, 9, 0.02) 100%);
  }
}

/* Mobile and tablet optimizations for role switcher */
@media (max-width: 768px) {
  /* Ensure role switcher dropdown doesn't get cut off on mobile */
  [data-radix-popper-content-wrapper] {
    z-index: 9999 !important;
  }
  
  /* Better touch targets on mobile */
  .touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Safe area for notched devices */
  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }
  
  /* Prevent zoom on input focus on iOS */
  input, select, textarea, button {
    font-size: 16px !important;
  }
}

/* iPad and tablet specific optimizations */
@media (min-width: 768px) and (max-width: 1024px) {
  /* Ensure proper spacing for role switcher on tablets */
  .role-switcher-container {
    margin-right: calc(env(safe-area-inset-right) + 0.5rem);
  }
}
