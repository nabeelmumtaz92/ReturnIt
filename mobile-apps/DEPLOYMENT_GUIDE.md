# ReturnIt Mobile Apps - App Store Deployment Guide

## Overview
This guide covers deploying both ReturnIt customer and driver mobile applications to Google Play Store and Apple App Store using Expo Application Services (EAS).

## Pre-Deployment Checklist

### 1. Expo Project Setup
**CRITICAL:** Replace placeholder project IDs with real Expo project UUIDs:
- Customer app: Update `extra.eas.projectId` in `mobile-apps/returnit-customer/app.json`
- Driver app: Update `extra.eas.projectId` in `mobile-apps/returnit-driver/app.json`

**Current placeholder IDs (MUST be replaced):**
- Customer: `12345678-1234-1234-1234-123456789abc`
- Driver: `87654321-4321-4321-4321-cba987654321`

**To get real project IDs:**
1. Install dependencies in each app directory:
   ```bash
   cd mobile-apps/returnit-customer && npm install
   cd mobile-apps/returnit-driver && npm install
   ```

2. Initialize EAS projects (requires Expo authentication):
   ```bash
   cd mobile-apps/returnit-customer && npx eas init
   cd mobile-apps/returnit-driver && npx eas init
   ```

3. Replace placeholder IDs with the real project IDs generated by EAS

### 2. Required Credentials
Before building for production, you'll need:

**For Android (Google Play Store):**
- `google-services.json` for each app (Firebase configuration)
- Google Service Account JSON key for automated submissions
- Google Play Console developer account

**For iOS (Apple App Store):**
- Apple Developer Account ($99/year)
- App Store Connect access
- iOS Distribution certificates
- Provisioning profiles

### 2. App Store Metadata
Configure metadata directly in app store consoles:

**Google Play Console:**
- App name: "ReturnIt" / "ReturnIt Driver"
- Category: Business
- Keywords: delivery, returns, exchanges, donations, logistics, shipping
- Description: Professional reverse delivery service
- Screenshots and app icons
- Privacy policy URL
- Contact information

**Apple App Store Connect:**
- App name: "ReturnIt" / "ReturnIt Driver"
- Category: Business
- Keywords: delivery, returns, logistics, driver, gig economy
- Description: Professional delivery and driver management
- Screenshots and app icons
- Privacy policy URL
- App Store review information

## Build Configuration

### Customer App
- **Bundle ID:** `com.returnit.customer`
- **App Name:** ReturnIt
- **Target Audience:** End customers booking deliveries

### Driver App
- **Bundle ID:** `com.returnit.driver`
- **App Name:** ReturnIt Driver
- **Target Audience:** Drivers managing jobs and earnings

## EAS Build Commands

### Development Builds
```bash
# Customer app
cd mobile-apps/returnit-customer
npx eas build --profile development --platform android
npx eas build --profile development --platform ios

# Driver app
cd mobile-apps/returnit-driver
npx eas build --profile development --platform android
npx eas build --profile development --platform ios
```

### Preview Builds (Internal Testing)
```bash
# Customer app
cd mobile-apps/returnit-customer
npx eas build --profile preview --platform android
npx eas build --profile preview --platform ios

# Driver app
cd mobile-apps/returnit-driver
npx eas build --profile preview --platform android
npx eas build --profile preview --platform ios
```

### Production Builds
```bash
# Customer app
cd mobile-apps/returnit-customer
npx eas build --profile production --platform android
npx eas build --profile production --platform ios

# Driver app
cd mobile-apps/returnit-driver
npx eas build --profile production --platform android
npx eas build --profile production --platform ios
```

## Submission Process

### Google Play Store
1. Build production Android app bundle:
   ```bash
   npx eas build --profile production --platform android
   ```
2. Submit to Google Play Console:
   ```bash
   npx eas submit --profile production --platform android
   ```
3. Configure store listing in Google Play Console
4. Submit for review

### Apple App Store
1. Build production iOS app:
   ```bash
   npx eas build --profile production --platform ios
   ```
2. Submit to App Store Connect:
   ```bash
   npx eas submit --profile production --platform ios
   ```
3. Configure App Store listing in App Store Connect
4. Submit for review

## Environment Setup

### Required Environment Variables
Add these to EAS secrets or your build environment:

```bash
# Production environment
NODE_ENV=production

# App-specific configuration
EXPO_PUBLIC_API_BASE_URL=https://api.returnit.online
EXPO_PUBLIC_WS_URL=wss://api.returnit.online
```

### Firebase Setup (Android)
1. Create Firebase projects for both apps
2. Download `google-services.json` for each app
3. Place in respective app root directories
4. Update app.json to include:
   ```json
   "android": {
     "googleServicesFile": "./google-services.json"
   }
   ```

## App Store Review Guidelines

### Privacy Requirements
Both apps collect location data:
- **Customer App:** Location for pickup scheduling and delivery tracking
- **Driver App:** Location for job assignments and navigation

Ensure privacy policy covers:
- Location data collection and usage
- Data sharing with delivery partners
- Data retention policies
- User control over data

### Permissions Justification
**Location Access:**
- Customer: Accurate pickup scheduling and delivery tracking
- Driver: Job assignments, navigation, and background tracking

**Camera Access:**
- Customer: Package verification and support requests
- Driver: Package verification and proof of delivery

## Testing Strategy

### Internal Testing
1. Build preview versions
2. Distribute to internal team via EAS
3. Test core functionality:
   - App navigation and UI
   - Location permissions
   - Camera functionality
   - Deep linking

### Beta Testing
1. Use Google Play Internal Testing
2. Use TestFlight for iOS
3. Gather feedback on:
   - User experience
   - Performance
   - Bug reports

## Launch Strategy

### Phase 1: Soft Launch
- Release to limited markets
- Monitor performance and user feedback
- Iterate based on initial user data

### Phase 2: Full Launch
- Global release on both platforms
- Marketing campaign activation
- Customer and driver onboarding

## Monitoring and Analytics

### Key Metrics to Track
- App downloads and installs
- User registration rates
- Order completion rates (customer app)
- Driver job acceptance rates (driver app)
- App crashes and performance issues
- User ratings and reviews

### Tools
- Expo Analytics
- Firebase Analytics
- App Store Connect Analytics
- Google Play Console Analytics

## Support and Maintenance

### Version Management
- Use semantic versioning (1.0.0, 1.0.1, etc.)
- Increment build numbers automatically via EAS
- Maintain version parity between platforms

### Update Strategy
- Regular bug fixes and performance improvements
- Feature updates based on user feedback
- Security updates as needed
- OTA updates for non-native changes via Expo Updates

## Troubleshooting

### Common Issues
1. **Build Failures:** Check dependencies and platform-specific requirements
2. **Permission Denials:** Ensure all required permissions are declared
3. **Store Rejections:** Review app store guidelines and privacy requirements

### Support Contacts
- Expo Support: For build and deployment issues
- Platform Support: For app store specific questions
- Development Team: For app functionality issues

---

**Note:** This guide assumes familiarity with Expo and EAS CLI. Ensure all team members have appropriate access to developer accounts and build services before beginning deployment process.